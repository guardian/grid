<div class="preview">
    <a class="preview__popout"
        target="_blank"
        title="Pop out"
        ng:href="/images/{{image.data.id}}">â—¹</a>

    <a class="preview__link"
       ui:sref="image({imageId: ctrl.image.data.id})">
       <img class="preview__image"
            ng:src="{{ctrl.image.data.thumbnail | assetFile}}" />
    </a>

    <div class="preview__info" ng:if="! ctrl.hideInfo">
        <ul class="preview__labels labels">
            <li class="label"
                ng:repeat="label in ctrl.image.data.userMetadata.data.labels.data">
                <a ui:sref="search.results({query: label.data})"
                   class="label__link">{{label.data}}</a>
            </li>
        </ul>

        <p class="preview__description">{{ctrl.image.data.metadata.title || ctrl.image.data.metadata.description}}</p>
    </div>

    <div class="preview__bottom-bar bottom-bar">
        <div class="bottom-bar__meta">
            <span class="preview__upload-date">{{ctrl.image.data.uploadTime | date:'d/M/yy'}}</span>
            <span class="preview__upload-time">{{ctrl.image.data.uploadTime | date:'HH:mm'}}</span>
        </div>
        <div class="bottom-bar__actions">
            <a class="bottom-bar__action"
               title="crop"
               ng:if="ctrl.image.data.valid"
               ui:sref="crop({ imageId: ctrl.image.data.id })">âœ‚</a>

            <ui-archiver class="bottom-bar__action"
                         archived="ctrl.image.data.userMetadata.data.archived"></ui-archiver>

            <div class="bottom-bar__action">
                <div class="cost cost--{{ctrl.image.data.cost}}">
                {{ctrl.image.data.cost}}
                </div>
            </div>
        </div>
    </div>
</div>
