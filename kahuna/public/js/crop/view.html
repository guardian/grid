<div class="crop-image">

    <div class="top-bar-wrapper">
        <div class="top-bar">

            <div class="top-bar__nav">
                <a class="top-bar__item top-bar__item--first"
                    ui:sref="image({ imageId: image.data.id })">← cancel</a>
            </div>

            <div class="top-bar__actions">
                <label class="top-bar__item">
                    <input type="radio" ng:model="imageCropCtrl.aspect" value="{{landscapeRatio}}" />
                    landscape
                </label>

                <label class="top-bar__item">
                    <input type="radio" ng:model="imageCropCtrl.aspect" value="{{portraitRatio}}" />
                    portrait
                </label>

                <label class="top-bar__item">
                    <input type="radio" ng:model="imageCropCtrl.aspect" value="{{freeRatio}}" />
                    free-form
                </label>
                <div class="top-bar__item">
                    <button class="button"
                            type="button"
                            ng:click="crop()"
                            ng:disabled="cropping">
                            crop<span ng:show="cropping">ping…</span></button>
                </div>
            </div>
        </div>
    </div>

    <div class="easel" ng:if="image.data">
        <div class="easel__canvas">
            <img class="easel__image"
                 ng:src="{{image.data.source | assetFile}}"
                 ui:crop-box="coords"
                 ui:crop-box-original-width="image.data.source.dimensions.width"
                 ui:crop-box-original-height="image.data.source.dimensions.height"
                 ui:crop-box-aspect="imageCropCtrl.aspect"
                 ui:crop-box-background-opacity="0.3"
            />
        </div>
    </div>
</div>
