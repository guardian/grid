<div class="labeller">
    <ul class="labels"
        ng:if="ctrl.image.data.userMetadata.data.labels.data.length > 0">
        <li class="label"
            ng:repeat="label in ctrl.image.data.userMetadata.data.labels.data"
            ng:class="{'label--removing': ctrl.labelsBeingRemoved.has(label)}">
            <a ui:sref="search.results({query: (label.data | queryLabelFilter)})"
               class="label__link">{{label.data}}</a>

            <button class="label__remove"
                    title="Remove label"
                    ng:click="ctrl.removeLabel(label.data)">x</button>
        </li>
    </ul>

    <div class="labeller__placeholder"
         ng:if="ctrl.labels.data.length == 0">No labels</div>

    <button class="button-shy labeller__add-button"
          ng:click="ctrl.addLabel()"
          ng:disabled="ctrl.adding">
        Add<span ng:show="ctrl.adding">ing…</span>
    </button>

    <button
        class="labeller__apply-all"
        title="Apply these labels to all"
        ng:if="ctrl.withBatch"
        ng:click="ctrl.batchApplyLabels()"
    >⇔</button>
</div>
