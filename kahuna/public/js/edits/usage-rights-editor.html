<form class="usage-rights-editor ure"
      ng:submit="usageRights.$valid && ctrl.save()"
      name="usageRights">
    <label class="ure__category">
        <select
            ng:model="ctrl.category"
            ng:disabled="ctrl.saving"
            ng:options="category as category.name for category in ctrl.categories track by category.value">
            <option value="">None</option>
        </select>
    </label>

    <div class="ure__cost"
         ng:switch="ctrl.category.cost">

        <div class="cost cost--free"
             ng:switch-when="free">Free to use</div>

        <div class="cost cost--conditional"
             ng:switch-when="conditional">Restricted use</div>
    </div>

    <div class="ure__description">
        {{ctrl.category.description}}
    </div>

    <label class="ure__restrictions"
           ng:if="ctrl.category.cost === 'conditional'">

        Restrictions
        <textarea class="ure__restrictions-text"
                  required
                  msd-elastic
                  ng:model="ctrl.restrictions"
                  ng:disabled="ctrl.isDisabled()"></textarea>
    </label>

    <div class="ure__submit">
        <button class="button" type="submit"
            ng:class="{ 'button--green': ctrl.saved }"
            ng:disabled="ctrl.isDisabled() || !usageRights.$valid">
                <span ng:if="!(ctrl.saving || ctrl.saved)">Save</span>
                <span ng:if="ctrl.saving">Saving</span>
                <span ng:if="ctrl.saved">Saved</span>
        </button>
    </div>

</form>
