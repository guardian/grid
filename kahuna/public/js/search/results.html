<!-- TODO: show only after a delay -->
<div ng:if="loading"
     class="image-loading-results">
    Fetching imagesâ€¦
</div>

<div ng:if="! loading">
    <div ng:show="images.length == 0"
         class="image-no-results">
        No matches, sorry!
    </div>

    <div ng:show="images.length > 0">

        <div class="image-results-count">
            {{totalResults | toLocaleString}} matches
            <button ng:show="newImagesCount > 0"
                    ng:click="revealNewImages()"
                    class="image-results-count__new">
                {{newImagesCount | toLocaleString}} new
            </button>
        </div>

        <ul class="results"
            ui:near-bottom="whenNearBottom()"
            ui:forget-window-scroll="searched">
            <li class="result"
                ng:repeat="image in images"
                ng:class="{ 'image-result--seen': imageHasBeenSeen(image) }">
                <ui-preview image="image"></ui-preview>
            </li>
        </ul>
    </div>
</div>
