<div class="image-info__group">
    <span class="flex-container gr-image-usage__field_title">
        {{ctrl.type}} ({{ctrl.usages.length}})
    </span>

    <ul>
        <li class="gr-image-usage__record" ng-repeat="usage in ctrl.usages">
            <gr-icon ng-if="usage.platform === 'print'" class="usage-list__icon" ng-class="{'icon-warning': ctrl.isRecent(usage.dateAdded)}">local_library</gr-icon>
            <gr-icon ng-if="usage.platform === 'digital'" class="usage-list__icon" ng-class="{'icon-warning': ctrl.isRecent(usage.dateAdded)}">phonelink</gr-icon>

            {{usage.title}}

            <span ng-if="usage.childUsageMetadata" ng-switch="usage.status">
                <span ng-switch-when="derivative">Used to create</span>
                <span ng-switch-when="replaced">Replaced with</span>
                <a href="{{usage.childUsageMetadata.childMediaId}}" rel="noopener" target="_blank">{{usage.childUsageMetadata.childMediaId}}</a>
                (added by {{usage.childUsageMetadata.addedBy}}).
            </span>

            <div class="more-info">
                <span title="{{usage.dateAdded | date:'d MMM yyyy, HH:mm'}}" class="date-added">{{::ctrl.formatTimestamp(usage.dateAdded)}}</span>

                <ul class="reference-list">
                    <li ng-repeat="reference in usage.references">
                        <a ng-if="reference.uri" href="{{reference.uri}}" title="Open in {{reference.type}}" rel="noopener" target="_blank">
                            <gr-frontend-icon class="reference-list__icon" ng-if="reference.type === 'frontend'"></gr-frontend-icon>
                            <gr-composer-icon class="reference-list__icon" ng-if="reference.type === 'composer'"></gr-composer-icon>
                        </a>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
</div>
