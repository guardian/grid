<form class="job-editor" name="jobEditor">
    Has ears? {{ctrl.listensToApplyAll}}
    <div class="job-editor__inputs">
        <label class="job-info--editor__field">
            <div class="job-info--editor__label">Description</div>
            <textarea name="description"
                      placeholder="e.g. {{funnyDescription}}…"
                      required
                      class="job-info--editor__input job-info--editor__input--description"
                      ng:disabled="ctrl.disabled()"
                      ng:model="ctrl.metadata.description"
                      ng:controller="DescriptionPlaceholderCtrl"
            ></textarea>
            <button
                class="job-editor__apply-to-all"
                title="Apply this description to all"
                ng:if="ctrl.canApplyAll"
                ng:click="ctrl.applyMetadata('description')"
            >✏</button>
        </label>
        <label class="job-info--editor__field">
            <!-- TODO: autocomplete on byline when API responds correctly with results -->
            <div class="job-info--editor__label">Byline</div>
            <input type="text"
                   name="byline"
                   placeholder="e.g. Tom Jenkins…"
                   class="job-info--editor__input job-info--editor__input--byline"
                   ng:disabled="ctrl.disabled()"
                   ng:model="ctrl.metadata.byline"
            />

            <button
                class="job-editor__apply-to-all"
                title="Apply this description to all"
                ng:if="ctrl.canApplyAll"
                ng:click="ctrl.applyMetadata('byline')"
            >✏</button>

        </label>
        <label class="job-info--editor__field">
            <div class="job-info--editor__label">Credit</div>
            <ui-datalist class="job-info--editor__input"
                         name="credit"
                         placeholder="e.g. Getty Images…"
                         request="ctrl.metadataSearch('credit', q)"
                         ng:model="ctrl.metadata.credit"
                         ng:disabled="ctrl.disabled()"
            ></ui-datalist>

            <button
                class="job-editor__apply-to-all"
                title="Apply this description to all"
                ng:if="ctrl.canApplyAll"
                ng:click="ctrl.applyMetadata('credit')"
            >✏</button>
        </label>
    </div>

    <div class="job-editor__buttons">
        <input type="submit"
               class="button job-editor__button"
               value="{{ {true: 'Saving…', false: 'Save'}[ctrl.disabled()] }}"
               ng:click="ctrl.save()"
               ng:disabled="jobEditor.$pristine || ctrl.disabled()"
        />
    </div>
</form>
