<ul>
    <li ng:repeat="job in ctrl.jobs">

        <div ng:if="!job.image"
             class="job-uploading">

            <div class="job-preview preview">
                <img ng:src="{{job.dataUrl}}" class="preview__image" />

                <div class="preview__bottom-bar bottom-bar">
                    <div class="bottom-bar__meta">
                        {{job.name}}, {{job.size | asFileSize}}
                    </div>

                    <div class="bottom-bar__actions"></div>
                </div>
            </div>
            <div class="job-status status"
                 ng:class="{
                     'status--invalid': status === 'upload error',
                     'status--valid': status === 'uploaded'
                 }">

                 {{job.status}}
            </div>
        </div>

        <ui-image-editor ng:if="job.image"
                         image="job.image"
                         apply-to="ctrl.jobImages()">

             <ui-labeller class="job-labeller"
                          labels="job.image.data.userMetadata.data.labels">
             </ui-labeller>

             <div class="metadata-applicator" ng:if="ctrl.jobs.length > 1">
                Apply
                <button class="metadata-applicator__button"
                        ng:click="ctrl.updateAllMetadata('byline', job.image.data.metadata.byline)">byline</button>
                /
                <button class="metadata-applicator__button"
                        ng:click="ctrl.updateAllMetadata('credit', job.image.data.metadata.credit)">credit</button>

                or

                <button class="metadata-applicator__button"
                        ng:click="ctrl.updateAllLabels(job.image.data.userMetadata.data.labels)">labels</button>

                to uploaded (save first)
                <!-- TODO: we should make sure that we use the value in
                the text field, at the moment this message will have to do -->
            </div>

        </ui-image-editor>
    </li>
</ul>
