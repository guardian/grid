<ul>
    <li ng:repeat="job in ctrl.jobs | orderBy: 'name'"  class="upload-result">
        <div ng:if="!job.image">
            <div class="result-editor"
                 ng:class="{'upload--invalid': job.status === 'upload error'}">
                <div class="result-editor__result">
                    <img class="result-editor__img"
                         ng:src="{{job.dataUrl}}"
                         gr:image-fade-on-load />
                </div>

                <div class="result-editor__editor">
                    <div class="result-editor__field-container">
                        <div class="result-editor__field-label">File name</div>
                        <div>{{job.name}}</div>
                    </div>
                    <div class="result-editor__field-container">
                        <div class="result-editor__field-label">File size</div>
                        <div>{{job.size | asFileSize}}</div>
                    </div>
                    <div class="result-editor__field-container">
                        <div class="result-editor__field-label">Status</div>
                        <div ng:switch="job.status">
                            <span ng:switch-when="upload error">
                                Upload error
                                <p>{{job.error}}</p>
                            </span>
                            <span ng:switch-default>{{job.status}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <gr-confirm-delete class="flex-right"
                               ng:if="job.status === 'upload error'"
                               gr:on-confirm="ctrl.removeJob(job)">
            </gr-confirm-delete>
        </div>

        <ui-image-editor ng:if="job.image"
                         image="job.image"
                         with-batch="ctrl.jobs.length > 1">
        </ui-image-editor>

        <gr-delete-image class="flex-right"
                         ng:if="job.canBeDeleted"
                         images="[job.image]">
        </gr-delete-image>
    </li>
</ul>
